# HTMLで扱える文字

Webブラウザは、画像、映像などさまざまなデータを扱うことができますが、基本となるのはやはりテキストです。ここでは、テキストをデジタルデータとして扱う際の表現方法について説明します。

## テキストデータのデジタル表現

文字だけで構成されたデータを「テキストデータ」と呼びます。先に説明したように、HTMLは、マークアップを含んだテキストデータです。

コンビュータは、アナログ情報をそのまま扱うことができません。コンピュータがテキストの情報を扱うためには、テキストをデジタルデータとして処理する必要があります。具体的には、文字をビット列で表現して、あるビット列が出現したらこの文字である、という判断をします。

また、テキストは別のコンピュータでも読み取れるようになっている必要があります。そのために、どの文字をどのようなビット列で表現するかというルールは統一しておく必要があります。このために、文字をビット列で表現する際の共通規格がつくられるようになります。

手始めに、1963年にアメリカで作られたのが、ASCII (American Standard Code for Information Interchange) という規格です。アルファベットの大文字と小文字、数字、基本的な記号類などが定義されており、これらは今では「ASCII文字」と呼ばれています。

## 文字コード

文字をビット列で表現する最も単純な方法は、扱う文字を一覧にして、それぞれに対応するビット列を決めることです。ASCIIでは、128種類の文字に対して、7ビットのビット列を割り当てるルールを決めました。たとえば、スペース、0,9,A,Z,a,zに対して、それぞれ以下のようなビット列を割り当てています。

- (スペース) → 0100000 (32, 0x20)
- 0 → 0110000 (48, 0x30)
- 9 → 0111001 (57, 0x39)
- A → 1000001 (65, 0x41)
- Z → 1011010 (90, 0x5a)
- a → 1100001 (97, 0x67)
- z → 1111010 (122, 0x7a)

カッコ内は、このビット列を十進数表記、十六進数表記で書いたものです。十進数や十六進数の表記に対応させられることからわかるように、これは、文字に番号を振っていく作業でもあります。

このように、文字に割り当てられた番号のことを「文字コード」(Character Code) と呼び、「ASCIIでは、大文字Aの文字コードは0x41である」のような言い方をします。

なお、このような文字コードの割り当てルール全体を指して「文字コード」と呼ぶケースもあります。文字コードという言葉はさまざまな意味で使われることがありますが、本書では単一の文字の文字コードを指す意味で使用します。

### 余談・ASCII文字の並び

ASCIIの文字コード体系では、制御コード、記号、数字、記号、大文字、記号、小文字、記号、DEL、という順に定義されています。数字、大文字、小文字が連続せずに間に記号が挟まっているのは、一見奇妙に見えるかもしれません。しかしビット列を見ると、A や a がキリの良い位置にあることがわかります。

- A → 1000001 (65, 0x41)
- a → 1100001 (97, 0x67)

こうなっていることで、6ビット目 (先頭から数えると2ビット目) を反転するだけで大文字・小文字を切り替えられるというデータ処理上のメリットがあります。

## 符号化文字集合と文字符号化方式

ASCIIは7ビットで文字を表現していましたが、7ビットでは128通りのパターンしか表現できないため、扱える文字は128種類までとなります。英数字のみを扱う場合はこれでも問題ありませんが、もっと多くの文字を扱いたい場合もあります。

さらに多くの文字を扱う方法のひとつは、単純にビット数を増やすというものです。ASCIIは7ビットでしたが、これを8ビットに拡張して文字を追加したものが ISO-8859-1 (ISO/IEC 8859-1, Latin-1とも呼ばれる) という規格です。ISO-8859-1では、ASCIIにはなかった通貨記号 (£、¥など) や、フランス語などで使われるアクセント付き文字 (àなど)、ドイツ語などで使われるウムラウト付き文字 (äなど) などが追加され、英語以外のさまざまな言語に対応できるようになっています。

他の考え方として、

カタカナなどを追加したのが JIS X 0201 という規格です。


meta charset

sniffing処理


