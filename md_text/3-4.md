<!-- ch3-4.txt (4ページ、3000～4600字想定) -->
# テキストレベルセマンティックス

この節は、30ほど存在する、主にテキストをマークアップすることを目的とした要素を紹介します。

## `a`要素

`href`属性を持つとき、ハイパーリンクを表します。`href`属性の値は、先頭と末尾のASCII空白文字を取り除いたあとに妥当なURL文字列となる、潜在的にスペースで囲まれた妥当なURLでなければなりません。例えば、次のように書いたとしても構文上は問題ありません（しかし、先頭と末尾の空白文字は基本的には不要です）。

```
<a href=" https://www.example.com/   ">Example Domain</a>
```

`download`属性が存在する場合、`href`属性で示されたリソースをダウンロードします。`download`属性が値を持つ場合、ダウンロード時のファイル名を指定します。属性の値に制限はありませんが、OSの制約のために特定の文字（特定の半角記号）が削除されたり置換されたりすることがあります。


`target`属性が存在する場合、リンク先URLを表示する場所を指定します。値はブラウジングコンテキスト（タブ、ウィンドウ、`iframe`要素の名前、またはキーワード）です。

キーワードには`_blank`、`_self`、`_parent`、`_top`の4つが存在します。このうち`_blank`は、新しいブラウジングコンテキスト（通常はタブ）にURLを読み込みます。

<!--
前述に示した妥当なURLを含めた、HTML仕様から参照する、URLに関する用語と定義は現在、WHATWG URL標準で定義されています。このURL標準はRFC 3986（URI）やRFC 3987（IRI）のみならず、RFC 6454 origin（生成元）を置き換え、URL APIも定義します。ウェブブラウザーで扱われる範囲においては、URL標準を参照するのが望ましいでしょう。それでも、RFC 3986とRFC 3987で文法として妥当な「URI」や「IRI」は依然として妥当なURL文字列です。

URLについては別に議論が良い？
-->

## `em`要素

`em`要素は、強調を表します。この要素を使うことで意味がどのように変化するのかを見ていきましょう。まずは、事実を示す強調のない文を示します。
```
<p>猫はかわいい動物です。</p>
```
主語を強調することによって、動物の種類が問題であることを意味します。
```
<p><em>猫</em>はかわいい動物です。</p>
```
助動詞を強調することによって、文全体の真偽が問題であることを意味します（誰かが猫はかわいくないと言っている）。
```
<p>猫はかわいい動物<em>です</em>。</p>
```
形容詞をマークアップすることで、猫の性質を断言します（誰かが猫は普通の動物だとほのめかした）。
```
<p>猫は<em>かわいい</em>動物です。</p>
```
同様に、誰かが猫は植物だと主張した場合も、名詞をマークアップすることで訂正を試みます。
```
<p>猫はかわいい<em>動物</em>です。</p>
```
文全体を強調することで、言いたいことを伝えるために懸命になっていることを明らかにします。この種の強調は、句点を感嘆符にするかもしれません。
```
<p><em>猫はかわいい動物です！</em></p>
```
`em`要素はイタリック体のための要素ではありません。英語のようなアルファベット主体の言語において、慣用的にイタリック体にする必要がある、文の一部に対して、`i`要素が適切かもしれません。

`em`要素は重要性を伝えません。この目的に対しては`strong`要素が適切です。


## `strong`要素

`strong`要素は、重要性、深刻性、または緊急性を表します。

重要性：文から本当に重要である部分を区別するために、見出し、キャプション、または段落で使用できます。

```
<p><strong>酸性タイプ</strong>の製品と一緒に使う（まぜる）と有害な塩素ガスが出て<strong>危険</strong>。</p>
```
深刻性：警告または注意の通知をマークアップするために使用できます。
```
<p><strong>注意。</strong> テレビを見るときは、部屋を明るくして、なるべくテレビから離れて見てね。</p>
```
緊急性：strong要素は、ユーザーが文書の他の部分よりも早く確認する必要があるコンテンツを示すために使用できます。
この例において、strong要素は、ユーザーが最初に読むことを意図するテキストの一部を示すために使用されます。
<!--日本語で書き直す-->
```
<p>Welcome to Remy, the reminder system.</p>
<p>Your tasks for today:</p>
<ul>
 <li><p><strong>Turn off the oven.</strong></p></li>
 <li><p>Put out the trash.</p></li>
 <li><p>Do the laundry.</p></li>
</ul>
```


## `small`要素

`small`要素は、小さな活字体などの副次的なコメントを表します。
```
<p>しょうゆ 198円<small>（税込み）</small>
```
よく著作権の帰属表示（Copyright）に用いられるシーンが多いです。
```
<p><small>© ボーンデジタル</small></p>
```

## `s`要素

`s`要素は正確ではないか、もはや関連しないコンテンツを表します。デフォルトのスタイルシートで打ち消し線を持つことから、`del`要素と混同するかもしれませんが、`del`要素はコンテンツの削除を表します。`s`要素の使用例としては価格の値下げを挙げることができます。
```
<p>ゲーミングキーボード</p>
<p><s>希望小売価格 15000円</s></p>
<p>セール価格 9800円</p>
```

## `cite`要素

`cite`要素は、作品のタイトルを表します。作品は、書籍、楽曲、映画、ゲームなどといった著作物かもしれませんし、パンクシー作とされる落書きのようなものかもしれません。この要素はあくまで作品名のためのものであって、人名のためのものではないことに注意してください。

例えば、SIST 02『参照文献の書き方』に従った文献情報は、次のようにマークアップされるでしょう。

```
<p>Berners-Lee, Tim. <cite>Web の創成 World Wide Web はいかにして生まれどこに向かうのか</cite>. 高橋徹監訳. 毎日コミュニケーションズ, 2001, 279p.</p>
```

## `q`要素

`q`要素は、別のソースから引用されたフレージングコンテンツを表します。

この要素を用いるときは、引用していることを示す引用符（具体的には、かぎ括弧など）をこの要素の直前や直後、内部で使ってはなりません。そのような引用符は、ユーザーエージェントが自動的に挿入します。また、引用符が自動的に挿入されるからといって、引用でないものに対して引用符を付けるために使用してはいけません。

<!--もしかしたらblockquoteとの対比が有効かもしれない。-->

```
<p>松尾芭蕉が<q>五月雨を集めて早し最上川</p>と詠った最上川は…</p>
```

## `dfn`要素

`dfn`要素は、用語の定義の実体を表します。同時に、この要素の最も近い祖先要素となる段落、説明リストのグループやセクションで、その用語の定義を含めなければなりません。

用語の定義は、`dfn`要素が`title`属性を持つ場合にはその`title`属性が、子`abbr`要素が`title`属性を持つ場合、その`title`属性が、それ以外の場合は`dfn`要素で囲まれたテキストが定義になります。

```
<!-- title属性の値、炭酸水素ナトリウムが定義 -->
<p><abbr="炭酸水素ナトリウム">重曹</abbr>は、常温で白い粉末です。</p>
<!-- dfn要素で囲まれたテキスト、dfnが定義 -->
<p><dfn><code>dfn</code></dfn>要素は、用語の定義を表します。</p>
```


## `abbr`要素

`abbr`要素は、略語や頭字語を表します。もし`title`属性がある場合は、属性の値が完全表記を表します。

```
<abbr title="World Wide Web Consortium">W3C</abbr>
<abbr title="日本銀行">日銀</abbr>
```

## ルビ関連要素

`ruby`、`rb`、`rt`、`rtc`要素はそれぞれ、ルビ注釈を付けるための要素群です。
`ruby`はルビの範囲を、`rb`はルビの対象となる文字（親文字）、`rt`はルビ、`rtc`はルビのコンテナをそれぞれ表します。

```
<!-- 単純ルビの例 -->
<ruby><rb>東京</rb><rt>とうきょう</rt></ruby>
<!-- 両側ルビの例 -->
<ruby><rb>東<rb>南<rt>とう<rt>なん<rtc><rt>tou<rt>nan</rt></rtc></ruby>の方角
```

2019年時点でHTML標準では`rb`要素および`rtc`要素は旧式の機能と記載されており、一方W3C HTML 5.2では要素として定義されています。これらの要素に関してはHTML標準に取り込まれるべく議論が継続的に行われています。


## `data`要素

`data`要素は機械読み取り可能な形式を表します。日付や時刻の場合は、`time`要素を利用します。
この例は、書籍の名前とISBNコードを結びつけています。
```
<data value="978-4-86246-460-6">実践！ユニティちゃん トゥーンシェーダー2.0 スーパー使いこなし術</data>
```
<!--https://www.borndigital.co.jp/book/15564.html-->

## `time`要素

`time`要素は、機械読み取り可能な形式で、日付や時刻などの値を表します。機械読み取り可能な形式は、もし`datatime`属性があれば属性値で、そうでなければ要素の子テキストコンテンツで表します。例えば、2017年1月23日という日付は機械読み取り可能な形式だと`2017-01-23`で表せるので、次のようにマークアップできます。
```
<!--日付-->
<time>2017-01-23</time>
<time datetime="2017-01-23">2017年1月23日</time>
```
機械読み取り可能な形式は様々なものがあります。以下では代表的なものを取り上げますが、正確なルールとパターンは、仕様を参照してください。
```
<time>2017-01</time><!--（ある年の）月-->
<time>01-23</time><!--年なしの日付-->
<time>14:56</time><!--時刻-->
<time>2017-08-29T01:23:45</time><!--日付と時刻-->
<time>-0600</time><!--タイムゾーンオフセット-->
<time>0789</time><!--年-->
```

## `code`要素

`code`要素は、コンピューターコード を表します。
この文は、次のようにマークアップできます。
```
<p><code>code</code>要素は、コンピューターコードを表します。
```
`pre`要素とあわせて、ここでは単純な例を示しますが、まとまったコードを表すこともできます。

```
<pre><code>console.log('Hello, World')</code></pre>
```

## `var`要素

`var`要素は数式やプログラムコードでの変数を表します。
```
<p><var>n</var>は自然数です。
```

## `samp`要素

`samp`要素は、コンピュータープログラムなどの出力を表します。
<!--とりあえずWindowsのエラーメッセージを-->
```
<p>パソコンで<samp>ディスクがいっぱいです。</samp>というエラーメッセージが出ました。
```

## `kbd`要素

`kbd`要素はユーザーの入力（通常はキーボード入力）を表します。

```
<p>コピーのショートカットキーは、Windowsでは<kbd>Ctrl+C</kbd>、MacOSでは<kbd>command+C</kbd>です。
```

仕様では個別のキーをネストしてマークアップする例が挙げられていますが、上記の例で十分です。


## `sup`および`sub`要素

`sup`要素は上付き文字を、`sub`要素は下付き文字を表します。
```
<p>二酸化炭素はCO<sub>2<sub>と書き表せます。
<p>2<sup>8</sup>は256です。
```

本書では扱いませんが、数式を表したい場合はMathMLと呼ばれるマークアップ言語を用いて表すこともできます。


## `i`要素

`i`要素は、典型的に斜体で表されるような、通常のテキストとは異なる部分を表します。古いHTMLでは、斜体のための要素として定義されていました。

日本語における伝統的な組版では、斜体で文字を表現しません。`i`要素よりも適切な要素がないかどうかを検討すべきです。例えば、強調には`em`要素がよりふさわしい要素となります。

一部のウェブアイコンフォントツールで、iconのiというような使われ方で説明されていますが、HTML仕様では認められていません。この目的のためには、`span`要素を使用するのが適切です。
<!--何か例示。もうちょっと説明が必要か。-->

## `b`要素

`b`要素は、文章でのキーワードや記事リード文など、注目すべきテキストの範囲を表します。古いHTMLでは太字要素として定義されていました。重要性を表す目的では`strong`要素を使用します。
<!--何か例示。もうちょっと説明が必要か。-->

## `u`要素

`u`要素は、綴りの誤ったテキスト分類する明瞭に発音されないテキストなどを表します。古いHTMLでは下線を引く要素として定義されていました。日本語の文脈で適切にこの要素を適用できるシーンは稀であると考えられますので、この要素を使用しないことを勧めます。

<!--もっと説明する-->

## `mark`要素

`mark`要素は、他の場所からの参照を目的とした、テキストのハイライトに使用されます。例えばウェブサイトの検索窓からの検索結果を表示するページ上で、検索した語句をハイライトする為などに使用できます。
<!--何か例示。もっと説明が必要。-->

```

```


## `bdi`要素

`bdi`要素は、異なる書字方向を設定するテキストの範囲を表します。
<!--何か例示。もうちょっと説明が必要か。-->

## `bdo`要素

`bdo`要素は、テキストの書字方向規則を明示的に上書きします。`dir`属性として、左から右への上書きを指定する`ltr`か、右から左への上書きを指定する`rtl`のいずれかを指定します。
<!--何か例示。もうちょっと説明が必要か。-->

## `span`要素
`span`要素はそれ自身では何の意味も持たない、汎用のコンテナです。`div`要素がまとまったフレーズなどのために用意されるのに対し、`sapn`要素は文の一部のフレーズなどに使用します。例えば`class`や`lang`、`dir`などのグローバル属性と一緒に使用する場合に役立ちます。
たいていの場合、他の要素がより適切なことがあります。より適切な要素がほかにないか検討してみてください。
<!--検討するためのフローチャート？のようなものがあるとよいのかもしれません。-->
次の例は、コンピューターコードを色付けする（シンタックスハイライト）ために、`span`要素と`class`属性を使用している例です。

<!--はてなダイアリー風HTML断片-->
```
<pre class="syntax-highlight"><code>
<span class="synComment">&lt;!doctype html&gt;</span>
<span class="synIdentifier">&lt;</span><span class="synStatement">html</span><span class="synIdentifier"> </span><span class="synType">lang</span><span class="synIdentifier">=</span><span class="synConstant">&quot;ja&quot;</span><span class="synIdentifier">&gt;</span>
</code>
</pre>
```

## `br`要素

`br`要素は改行を表します。例えば、住所は行を区切って表示することで読みやすくなるわけですから、`br`要素で表すことは適切と言えます。
```
<p>
〒102-0074<br>
東京都千代田区<br>
九段南一丁目5番5号<br>
九段サウスサイドスクエア（旧 Daiwa九段ビル）
</p> 
```
`br`要素の直後で改行しておくと、HTMLの可読性が担保されると言えるでしょう。

ところで多くの場合、`br`要素は濫用される傾向にあります。段落の内容のトピックが変わるのであれば、それは新しい段落で表すことが適切であり、`br`要素は不適切と言えます。
<!--LSより濫用の例-->
```
<!--濫用されている例-->
<p><a ...>34件のコメント</a><br>
<a ...>コメントを追加する</a></p>

<p><label>名前: <input name="name"></label><br>
<label>住所: <input name="address"></label></p>

<!--適切な例-->
<p><a ...>34件のコメント</a></p>
<p><a ...>コメントを追加する</a></p>

<p><label>名前: <input name="name"></label></p>
<p><label>住所: <input name="address"></label></p>
```
余白を設けるために`br`要素を複数用いてはなりません。そのような見た目の制御はCSSを用います。

```
<!--悪い例-->
<p>段落の下に余白を作る<br>
<br>
<br>
</p>
```

## `wbr`要素

`wbr`要素は改行の機会を表します。例えば、長いURLが存在するときに、この要素のある適当な位置で改行されることが期待できます。
<!--MDNからコード例をお借り。より良い例があれば苦心。 https://developer.mozilla.org/ja/docs/Web/HTML/Element/wbr -->
```
<p>http://this<wbr>.is<wbr>.a<wbr>.really<wbr>.long<wbr>.example<wbr>.com/With<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages
</p>
```
