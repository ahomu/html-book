<!-- ch3-3.txt (4ページ、3000～4600字想定) -->
<!--    4.4.7 The menu elementを除く -->
# グルーピングコンテンツ

## `p`要素

`p`要素は段落を表します。日本語の文章で言うところの段落は、通常いくつかの文で構成される、文のかたまりと捉えることができます。HTML仕様における段落の考え方については、次の節に譲ります。

より具体的な要素が適当な場合は、専用の要素を使用するべきです。例えば、次のマークアップは技術的に正しいです。

```
<section>
  <!-- ... -->
  <p>作成日: 2012-03-21</p>
  <p>作者: info@example.com</p>
</section>
```

しかし、より適切な1つの例として、次のものが考えられます。

```
<section>
  <!-- ... -->
  <footer>作成日: 2012-03-21</footer>
  <address>作者: info@example.com</address>
</section>
```

### 段落の概念について

`p`要素は、子にリストを持つことができません。では、文章が箇条書きのリストを含む場合、どのようにマークアップすべきなのでしょうか。この疑問に対する解決策として、HTML仕様では構造上の「段落」という概念で説明します。

たとえば次のような文書は、

<!-- ここはマークアップをパースした後の例示 -->
ウェブページは、大きく次の3つの技術から構成されます。
- HTML
- CSS
- JavaScript
これらの詳細については、後の節で説明されます。
<!--例示ここまで。図の方がよい？-->

次のように、リストのそれぞれの項目に対する段落と、その前後に1つずつの、あわせて5つの段落で構成されます。

<!--上記に対応するマークアップ例-->
```
<p>ウェブページは、大きく次の3つの技術から構成されます。</p>
<ul>
  <li>HTML
  <li>CSS
  <li>JavaScript
</ul>
<p>これらの詳細については、後の節で説明されます。
```

また、単に1つのまとまりとして、`div`要素で括る方法もあります。

```
<div>ウェブページは、大きく次の3つの技術から構成されます。
<ul>
  <li>HTML
  <li>CSS
  <li>JavaScript
</ul>
これらの詳細については、後の節で説明されます。</div>
```
この例では、依然として5つの段落構造を持ちますが、`div`要素のみでスタイルを変更することができます。`p`要素は段落をマークアップする1つの方法であり、`p`要素以外でも段落をマークアップできることがわかるかと思います。

## `hr`要素

`hr`要素は、小説であれば場面変化するとき、論説であれば別の話題に移行するときなどに、段落レベルのテーマの区切りを表します。`section`要素や`h1`要素はテーマの変更を意味するため、これら要素の間に`hr`要素は不要です。

過去のHTMLでは横罫線として定義されていましたが、スタイル目的のためにこの要素をあえて使用する必要はないでしょう。

<!-- 言い換えると、見出しを立てるまででもないけれども、話題が変わっているということなんだけど、そこまで説明を冗長にした方がいいのか。 -->
<!-- これが例示なのかは疑問だけど、とりあえず書いてみた。 -->
```
<p>ウェブで一番よく目にする画像と言えば、なんと言っても猫でしょう。ウェブ上の猫の人気は、異常と言ってよいかもしれません。</p>
<hr>
<p>そうは言っても、現実世界で道ばたを人と一緒に散歩しているのはやっぱり犬です。犬の人気もまた、群を抜いていると言えます。</p>
```

## `pre`要素

`pre`要素は、整形済みテキストを表します。例えば、電子メール、コンピューターコードの断片、アスキーアートの表示などに使用することが挙げられます。

`text/html`の場合、`<pre>`タグ直後の改行文字は除去されます。つまり、

<!--もうちょっと気の利いた例示が必要か。-->
```
<pre>これは
pre要素の
テストです
</pre>
```

```
<pre>
これは
pre要素の
テストです
</pre>
```

この2つは、同じように表示されます。

W3C HTMLの拡張仕様であるARIA in HTML仕様によれば、支援技術に対してアスキーアートを画像として認識させるARIA `role=img`の例が紹介されています。

<!--別のアスキーアートにすり替えた方がよい？-->
```
<figure role="img" aria-labelledby="fish-caption">
   <pre>
   o           .'`/
     '      /  (
   O    .-'` ` `'-._      .')
      _/ (o)        '.  .' /
      )       )))     ><  <
      `\  |_\      _.'  '. \
        '-._  _ .-'       '.)
    jgs     `\__\
   </pre>
   <figcaption id="fish-caption">
    Joan G. Stark, "<cite>fish</cite>".
    October 1997. ASCII on electrons. 28×8.
   </figcaption>
</figure>
```

支援技術が`role=img`を解釈する場合、アスキーアートをスキップすることが期待できます。

## `blockquote` 要素

`blockquote`要素は別のソースから引用されているセクションを表します。`cite`属性で出典元のURLを示すことができますが、現在のHTML仕様では、ページ閲覧者のためのものではなく、主にサーバーサイドスクリプト解析するなどの私的使用のために使うものとされています。よって、積極的に使用することは勧めません。

文章の引用には、引用元の表記が欠かせません。しかしそのマークアップの方法については、両仕様で見解が異なっています。
WHATWG HTMLでは、引用元は`blockquote`の外に書くよう示されています。

```
<blockquote>
<p>吾輩は猫である。名前はまだ無い。</p>
</blockquote>
<p>—夏目漱石 『<cite>吾輩は猫である</cite>』</p>
```

一方W3C HTMLでは、`footer`要素を使用して、`blockquote`の内に書けることが示されています。

```
<blockquote>
<p>吾輩は猫である。名前はまだ無い。</p>
<footer>—夏目漱石 『<cite>吾輩は猫である</cite>』</footer>
</blockquote>
```

厳密さではWHATWG HTML、これまでの慣習に近いマークアップがW3C HTMLと言えます。

`blockquote`要素は、セクショニングルートです。たとえ要素の中に見出しが入っていても、アウトラインには影響しません。

<!--こう、もうちょっと柔らかい例をですね…-->
```
<blockquote>
<h3>（国及び地方公共団体の責務）</h3>
<p>第三条　国及び地方公共団体は、この法律の趣旨にのっとり、障害を理由とする差別の解消の推進に関して必要な施策を策定し、及びこれを実施しなければならない。</p>
</blockquote>
```

## `ol`要素

`ol`要素は、順序を変更することが文書の意味を変更するような、意図的に順序づけられた項目のリストを表します。リストの項目は、ツリー順で`ol`要素の`li`要素の子ノードです。<!--仕様訳ママだけど、この説明でいいのか-->`reversed`属性を使用することで、降順リスト（…, 3, 2, 1）を表すことができます。この属性がなければ、リストは昇順リストです（1, 2, 3, …）。

`type`属性を使用することで、リストのマーカーを10進数の数字の代わりにアルファベットやローマ数字で表示することができます。より高度なCSSマーカーを指定したい場合、CSS `list-style-type`プロパティを使用して実現することができます。

`start`属性を使用することで、リストの開始する値を決定することができます。属性の値は整数です。

<!--1から開始してカウントダウンする、やや奇妙な例-->
```
<ol start="1" reversed>
<li>このリストは1から始まって
<li>カウントダウンしていくという
<li>やや風変わりな例です。
</ol>
```

## `ul`要素

`ul`要素は、項目の順序が重要でない、つまり順序を変更しても文書の意味を実質的に変えないだろう、項目のリストを表します。リストの項目は、ul要素のli要素の子ノードです。

リストは次のようにネストすることができます。
<!--MDNのパクリなので、もうちょっとなんか案を練る-->
```
<ul>
	<li>1st item</li>
	<li>2nd item      <!-- ここには終了タグはない -->
		<ol>
			<li>2nd item 1st subitem</li>
			<li>2nd item 2nd subitem</li>
			<li>2nd item 3rd subitem</li>
		</ol>
	</li>             <!-- ここに </li> を記述し、要素を閉じる -->
	<li>3rd item</li>
</ul>
``` 
 
## `dl`要素

`dl`要素は、名前と値のグループから構成される、説明リストを表します。古いHTMLでは、定義リストと呼ばれていました。
名前に`dt`要素を、値に`dd`要素を使用します。名前と値のグループはまた、`div`要素で囲むことができます。`dl`要素の子は`div`要素を除いて`dt`要素と`dd`要素のみを受け付けます。

名前と値のグループは、用語とその定義、メタデータのトピックと値、質問と回答などが挙げられます。各グループ内の名前と値のリストの順序は、意味があっても構いません。

この例は、1つの定義を2つの用語にリンクするものです。定義を示すために`dfn`要素を使用します。
<!--WHATWGからの丸パクリ。何か漢字が異なって読みが同じな日本語の例にする。-->
```
<dl>
 <dt lang="en-US"> <dfn>color</dfn> </dt>
 <dt lang="en-GB"> <dfn>colour</dfn> </dt>
 <dd> A sensation which (in humans) derives from the ability of
 the fine structure of the eye to distinguish three differently
 filtered analyses of a view. </dd>
</dl>
```
<!--例示の説明文を含めてWHATWGの丸パクリ。例を練ること-->

次の例は、ある種のメタデータをマークアップするdl要素の使用例を示す。例の最後で、1つのグループは、2つのメタデータラベル（"Authors"と"Editors"）と2つの値（"Robert Rothman"と"Daniel Jackson"）を持つ。この例はまた、スタイリングを支援するために、dtとdd要素のグループの周囲にdiv要素を使う。

```
<dl>
 <div>
  <dt> Last modified time </dt>
  <dd> 2004-12-23T23:33Z </dd>
 </div>
 <div>
  <dt> Recommended update interval </dt>
  <dd> 60s </dd>
 </div>
 <div>
  <dt> Authors </dt>
  <dt> Editors </dt>
  <dd> Robert Rothman </dd>
  <dd> Daniel Jackson </dd>
 </div>
</dl>
```

## `figure`要素

`figure`要素は、オプションでキャプションをもつ（完全な文のような）自己完結型であり、文書の主フローから単独のユニットとして参照されるフローコンテンツを表します。

ここでいう自己完結型というのは、たとえば、段落にあるそれぞれの文が該当します。文の一部となる画像は`figure`に不適切ですが、画像で作られた完全な文は適切と言えます。

と仕様では説明されますが、言い換えると、本文から参考文献として参照される一方で、本文の流れに影響を与えることなく、別ページや付録に移動できる、画像、図表、例、コード断片などに使用できます。

この要素の子となる最初の`figcaption`要素がもしあれば、キャプションを表します。そうでなければ、キャプションは存在しません。

`blockquote`要素と同じく、`figure`要素はセクショニングルートです。これに関する例示は、`blockquote`要素に譲ります。

<!--何かfiugre要素の例示…もっと役に立ちそうなものをですね-->
```
<figure id="fig2">
 <figcaption>図 2. 投げた匙の数</figcaption>
 <img src="saji.png"
      alt="匙が山のように積み上がっている絵">
</figure>
```
<!--代替テキストの議論はここでする？-->

## `main`要素

もとは、ARIA仕様の`role=main`に由来する要素です。ARIA仕様によれば、文書の主要コンテンツを表します。直接に関連する、または文書の主要なトピックを詳しく述べるコンテンツをマークするもの、と説明されます。さらに、任意の`document`または`application`内で、著者は`main`ロールをもつ複数の要素をマークすべきではない。とされます。

本書がHTMLの本にもかかわらず、あえてARIA仕様の定義を記述したのには理由があります。それは、WHATWG HTMLとW3C HTMLで定義が違うためです。

具体的には、WHATWG HTMLによれば、`main`要素は、他の要素の文書コンテンツに対するコンテナとして使用できるものとされます。一方、W3C HTMLでは、`main`要素は文書またはアプリケーションの本文の主要なコンテンツを表す、とされます。
また、`main`要素を使用できる回数も両仕様で異なります。WHATWGは`main`要素が複数回出現してもよいとしているのに対し、W3CはARIA仕様をより厳密に解釈して、1つのみとしています。この解釈の違いをHixieは次のように説明しています。
<!--Hixieの例の画を一時的にはっ付けておく https://github.com/whatwg/html/issues/100#issuecomment-138620240  これに似た何かで違いを例示する -->

## `div`要素

`div`要素は、一切特別な意味を持ちません。具体的には、スタイルを付ける目的で`id`属性や`class`属性と一緒に使用する、あるいは`lang`属性などを付与するために使用することなどが挙げられます。他に適切な要素がなかった場合の最後の手段です。適切な要素がある場合はその要素を使用すべきです。
<!-- ここで適切な要素のテーブルを用意して、div以外の選択肢を読者に促す？ -->