<!-- ch3-2.txt (4ページ、3000～4600字想定) -->
# セクション
この節では、セクションに関連するセクショニングコンテンツとセクショニングルート、見出し要素について説明します。

## セクションと見出し
一般に、文章は節や項といったセクションがあり、それぞれ節見出しや項見出しが存在します。言い換えると、セクションの最初にはそのセクションを説明する見出しがありますし、見出しがセクションを作成しているとも言えるでしょう。
HTMLにおいても、見出しは自動的にセクションを生成します。仕様では、この自動的に生成されるセクションのことを暗黙のセクションと呼びます。
HTML5以前の古いHTMLでは、見出し要素（`h1`-`h6`）は存在しましたが、セクションを明示するための要素はありませんでした。しかし、現在のHTML仕様では、セクションを明示するための要素として、セクショニングコンテンツに分類される、`article`、`section`、`aside`、`nav`の4つの要素が存在します。
HTML仕様では、見出し要素によって自動的に生成される暗黙のセクションの代わりに、セクションをセクショニングコンテンツで明示することが推奨されています。見出しを使う際にはセクショニングコンテンツを積極的に活用するのがよいでしょう。

### セクションとアウトライン
文章はセクションによって構成されていると考えることができます。では、そのセクションを機械的に処理するにはどうすればよいでしょうか。
HTML仕様において、セクショニングコンテンツとセクショニングルートはアウトラインを作成します。アウトラインを作成するためのアルゴリズムはアウトラインアルゴリズムとしてHTML仕様で定義されています。

<!-- なにか具体例を例示 -->

しかし、W3C HTML仕様で言及されているように、ブラウザーや支援技術などのユーザーエージェントでアウトラインアルゴリズムが実装されているものは現在存在しません。このことは、アウトラインアルゴリズムに則ってHTMLを記述しても、意図通りにユーザーエージェントに解釈されるとは限らないことを意味します。
よって、アウトラインについては、参考程度に留めておくのがよく、後述する見出しのランクに基づいてマークアップすることを勧めます。

#### セクショニングルートについて
セクショニングルートは、自分自身のアウトラインを持つものの、内側のセクションと見出しが祖先のアウトラインに寄与しないもの、と定義されます。この定義だけではわかりにくいので、具体例として、`blockquote`要素を考えてみます。
`blockquote`要素は、引用を表す要素ですから、外部から文章の一部を持ってきている状況であると言えます。その引用部分に見出しを持ったセクションが含まれている場合を想像してください。引用部分がアウトラインを生成することになりますが、セクショニングルートの定義により、文書のアウトラインには影響しません。つまり、セクショニングルートによってアウトラインが引用した文章と分離されるということです。

<!-- MDNから文章までも丸パクリなので、中身を考える -->
```
<section>
  <h1>マルミミゾウ</h1> 
  <section>
    <h2>はじめに</h2>
    <p>このセクションでは、あまり知られていない方のマルミミゾウについて説明します。</p>
  </section>
  <section>
    <h2>生態</h2>
    <p>マルミミゾウはサバンナには生息せず、森林に生息しています。「<cite>ボルネオ島におけるマルミミゾウ</cite>」で科学者が言っていることを見てましょう。:</p>
    <blockquote>
       <h1>ボルネオ島</h1>
       <p>マルミミゾウはボルネオ島に住んでいます...</p>
    </blockquote>
  </section>
</section>
```
この例は次のアウトラインを導き出します。
```
1. マルミミゾウ
   1.1 はじめに
   1.2 生態
```
<!-- ここまでMDNからのパクリ -->

## `article`要素
`article`要素は、自己完結型の構造を表します。これは、サイトのページやアプリケーションの中での、ブログの投稿、ニュースの記事、インタラクティブなウィジェットなどが該当します。
`article`要素に関連する著者の情報は、`address`要素で示すことができます。これは、ネストされた`address`には適用されません。
`article`要素はネストされることがあります。この場合、原則的に内側の`article`は、外側の`article`に関連したものとなります。具体的には、ブログの場合にブログのエントリーに対するコメントという例が挙げられます。

<!-- やる気が皆無…もっとまともな例をですね。 -->
```
<article class="entry">
  <header>
    <h2>けものフレンズ</h2>
    <p>
      <time>2017-01-23</time>
    </p>
  </header>
  <section>
    <p>すっごーい！</p>
  </section>
  <section class="user_comments">
    <article class="user_comment">
      <p>記念にコメントするッスよー！</p>
      <footer>
        <p>
          アメリカビーバー <time>2017-01-23 19:00</time>
        </p>
      </footer>
    </article>
    <article class="user_comment">
      <p>あなたはブログがかけるフレンズなんだね！</p>
      <footer>
        <p>
          サーバル <time>2017-01-23 19:02</time>
        </p>
      </footer>
    </article>
  </section>
</article>
```

## `section`要素
`section`要素は、文書またはアプリケーションの一般的なセクションを表します。この要素は汎用のコンテナ要素ではないことに注意してください。スタイルやスクリプトのための要素が必要な場合は、`div`要素を使用します。

<!--例示は必要？-->
```
<section>
  <h3><code>section</code>要素</h3>
  <p><code>section</code>要素は、文書またはアプリケーションの一般的なセクションを表します。
</section>
```

### `article`か`section`か
`article`要素と`section`要素は、どちらも見出しを伴ったセクションを表します。似通った要素であるため、使い分けることが難しいかもしれません。
両者の使い分け方としては、コンテンツの著者次第ではありますが、そのセクションだけで自己完結するかどうかが1つのポイントになります。例えば、Twitterのツイートであれば、その1つのツイートで1つのコンテンツとなるわけですから、`article`要素がより適切と考えられます。もし、1つのツイートに収まりきらず、複数回連続でツイートしたなら、一連のツイートを`article`要素で包むことが考えられます。<!-- この例示は適切か？ -->使い分け方として、コンテンツの長さは関係ありません。文脈に左右される面があることに注意しましょう。

## `aside`要素
`aside`要素は、メインコンテンツと二次的に関連するものの、メインコンテンツから分離できると考えられるセクションを表します。いわゆるブログのサイドバーや広告、その他の補足情報など、メインコンテンツと切り離すことのできるコンテンツに適しています。言い換えると、コンテンツと切り離すことが難しい、単なる挿入句のようなものは当てはまりません。
<!-- 何か例を挙げる -->

## `nav`要素
`nav`要素は、サイトの他のページへのリンクやページ内のナビゲーションを表します。1つのページにグローバルナビゲーションとローカルナビゲーションの両方があっても構いません。典型的には、リストであることが多いですが、リストである必要はありません。
<!--なにかナビゲーションの例-->

ところで、リンクのグループをすべて`nav`要素にする必要はありません。
<!--小さなフッターの例-->
図 3-02-1: ヤフーのあるサービスに存在するページフッターの様子
![](3-02-01.PNG)
このような問い合わせ先を含む小さなフッターは、単に`footer`要素だけで十分です。

## `h1`-`h6`要素
`h1`-`h6`要素は、セクションの見出しを表します。これらの要素は、要素名の数字で与えられるランクを持ちます。`h1`要素が最高ランクを持ち、`h6`要素が最低ランクを持ちます。また、同じ名前の要素は等しいランクを持ちます。

### ランクについて
セクションは、任意のランクを持つ見出しがあっても構いませんが、セクションのネストレベルに基づいたランクの見出し要素を使用することが強く推奨されています。

<!-- specからそのまま持ってきたので、もうちょっとどうにかする -->
<!--とびとびのランクの例-->
```
<body>
 <h4>Apples</h4>
 <p>Apples are fruit.</p>
 <section>
  <h2>Taste</h2>
  <p>They taste lovely.</p>
  <h6>Sweet</h6>
  <p>Red apples are sweeter than green ones.</p>
  <h1>Color</h1>
  <p>Apples come in various colors.</p>
 </section>
 <body>
 ```
<!--ランクに応じた見出しの例-->
```
<body>
 <h1>Apples</h1>
 <p>Apples are fruit.</p>
 <section>
  <h2>Taste</h2>
  <p>They taste lovely.</p>
  <section>
   <h3>Sweet</h3>
   <p>Red apples are sweeter than green ones.</p>
  </section>
 </section>
 <section>
  <h2>Color</h2>
  <p>Apples come in various colors.</p>
 </section>
</body>
```

`section`要素と`h1`要素のみで表現する方法も存在します。しかし、W3C HTML仕様やHTMLチェッカーが指摘するように、ブラウザーやスクリーンリーダーなどの支援技術で解析できる実装は現在存在しません。よって、見出しはランクに従って記述するという方針を取ることにし、`section`要素と`h1`要素でマークアップすることは本書では勧めません。
同様の理由から、`hgroup`要素という複数の見出しを囲んで、小見出しなどを表すことのできる要素についても勧めません。

<!-- section/h1によるオススメしない例 -->
```
<body>
 <h1>Apples</h1>
 <p>Apples are fruit.</p>
 <section>
  <h1>Taste</h1>
  <p>They taste lovely.</p>
  <section>
   <h1>Sweet</h1>
   <p>Red apples are sweeter than green ones.</p>
  </section>
 </section>
 <section>
  <h1>Color</h1>
  <p>Apples come in various colors.</p>
 </section>
</body>
```

## `header`要素
`header`要素はセクションの導入部分やナビゲーションの補助を表します。使い方としては、そのセクションの見出しを含めることが考えられますが、これは必須ではありません。
`header`要素はセクショニングコンテンツではないため、新しいセクションを設けません。

## `footer`要素
`footer`要素は、最も近い祖先のセクショニングコンテンツ、またはセクショニングルートのフッターを表します。フッターは、著者に関する情報、関連文書へのリンク、著作権に関する情報などを含みます。
`footer`要素は、`header`要素と同様にセクショニングコンテンツではないため、新しいセクションを設けません。

## `address`要素
WHATWG HTMLとW3C HTMLで、`address`要素の定義が異なります。
WHATWG HTMLにおいては、最も近い祖先となる、`article`要素または`body`要素の連絡先情報を表します。`body`要素の場合は、文書全体の連絡先情報を表します。また、関連しない連絡先情報以外の情報を含めてはならないとされています。特に、郵便の宛先に関しては、一般に適切なマークアップは`p`要素であることが明示されています。
一方W3C HTMLにおいては、人または組織の連絡先情報を表す、と定義されます。連絡先情報には、物理的および/またはデジタル的な場所/連絡先情報、そして情報が関係する人または組織を識別する手段を含むべきである、とされます。
例示されている連絡先情報については、WHATWG HTMLでは人や組織のURLやメールアドレスが挙げられています。対して、W3C HTMLではさらに踏み込んで、電話番号やFAX、さらにはネコの経度緯度による位置情報が例示されており、より汎用的な連絡先を表す要素であることを示唆しています。
本書では、WHATWG HTMLに従った、狭義の連絡先情報を表すために使用することを勧めます。連絡先に関連しない、単に住所や電話番号をマークアップするためには、`p`要素でマークアップします。

## `body`要素
`body`要素は、文書の主要コンテンツを表します。`html`要素の2番目の子として、HTML文書に1つのみ存在します。

<!-- イベントハンドラー属性の例とか？ -->