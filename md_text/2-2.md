# 2-2. HTMLの構文・発展編


2-1節では、HTMLの基本となる「タグ」の基本的な構文に触れました。
ここでは、タグの文法ルールの詳細や、タグ以外のマークアップについて触れていきます。

## HTML文書とDOCTYPE

HTMLを扱う際は、一つの文書に含まれるテキスト全てをマークアップして使ことが一般的です。このように、文書全体をHTMLとしてマークアップしたものを「HTML文書」(HTML document) と呼びます。

HTMLを文書全体としてではなく、一部分だけ切り出して扱うこともあります。たとえば、HTMLの部品を他の文書に埋め込むような想定のとき、部品の側はHTML文書全体ではなく、一部だけを含むものになります。このように切り出した一部分は、「HTML断片」(HTML fragment) と呼びます。

HTML文書の冒頭には、以下のようなマークを書く必要があります。これを「DOCTYPE」と呼びます。

```html
<!DOCTYPE html>
```

大文字・小文字は区別しないことになっていますので、小文字で書かれることもよくあります。

```html
<!doctype html>
```

DOCTYPEを書かない場合、この文書はHTML5ではない何かである可能性が高いと判断され、「奇癖モード」(quirks mode) で処理されることになります。

なお、DOCTYPEは「文書型宣言」(Document type declaration)と呼ばれることもありますが、これは古い呼び名です。かつてのHTMLはSGMLのルールに従っていたため、SGMLでは必須だった文書型宣言を書く必要がありました。HTML5はSGMLではなくなったため、文書型宣言も不要なのですが、ブラウザの互換性のために、文書型宣言と似た形の「DOCTYPE」を書くことになっています。

現在のDOCTYPEの記述は、SGMLの文書型宣言として正当な形にはなっていません。SGMLやXMLを出力するプログラム (XSLTプロセッサなど) でHTMLを生成しようとする際には、文書型宣言を省略したり変形したりできないこともあります。そのような場合のために、以下のような記述も許されています。

```html
<!DOCTYPE html ststem "about:legacy-compat">
```

これは冗長ですが、SGMLの文書型宣言としても適正な形になっています。前掲の簡単な形式が出力できない場合には、こちらを利用しても構いません。

## コメント

HTMLにはコメントを書くこともできます。コメントは以下のような形式です。

```html
<!--コメント-->
```

コメントは特に意味を持ちません。DOMツリーでは要素やテキストノードではなく、コメントノードという独自のノードとして扱われます。表示には影響しませんが、JavaScriptなどからコメントノードの内容にアクセスすることはできます。

コメントに改行を含むこともできます。

```html
<!--
複数行にわたる
コメント
-->
```

コメントは空でも構いません。以下は有効なコメントで、内容が空のコメントノードができます。

```html
<!---->
```

コメントの中に `<` を書くこともできます。これはタグとはみなされず、そのままコメントノードの内容となります。既存のマークアップをコメントアウトするのに使われることもあります。

```html
<!--
<h1>見出し</h1>
<p>テキスト</p>
-->
```

上記の通り、`>`を書くこともできるのですが、`>`はコメントの先頭に書くことができないという制限があります。同様に、コメントの先頭を`->`で始めることもできません。
以下は誤った例です。

```html
<!-->コメント-->
<!--->コメント-->
```

これはエラー(abrupt-closing-of-empty-comment parse error)となり、空のコメントノードが追加されます。「コメント-->」部分がコメントにならないことに注意してください。上記はいずれも、エラー処理によって、以下のようなマークアップと同じものとみなされます。

```html
<!---->コメント-->
```

コメントの中に他のコメントを入れ子にすることはできません。コメントの中に`<!--`を書くとエラー(nested-comment parse error)となりますが、単に`<!--`もコメントの一部とみなされます。また、`-->` をコメントの中に入れようとすると、そこでコメントが終了したものとみなされます。

```html
<!--外側コメント前<!--内側コメント-->外側コメント後-->
```

これは、`外側コメント前<!--内側コメント`というコメントノードと、`外側コメント後-->`というテキストノードになります。




```html


```



## 文字参照
名前付き、十進、十六進


## XML構文

## CDATA区間






