<!-- ch1-4_test.md.txt (4ページ、3000～4600字想定) -->
# HTMLの歴史
HTMLは初期にはIETF、続いてW3C、現在はWHATWGが中心となって策定されていますが、ここではその歴史と仕様を策定する組織を紐解いていきたいと思います。

## HTMLの誕生からIETF標準時代まで
ティム・バーナーズ＝リー卿（Sir Tim Berners-Lee）によって、今日のウェブが初めてインターネット上で公開されたのは1991年のことでした。このときのHTMLは、SGMLと呼ばれる汎用のマークアップ言語を手本としていたものの、DTDと呼ばれる文書構造を規定する宣言が存在しなかったため、厳密にはSGMLの規則に従ったマークアップ言語ではありませんでした。

その後、メーリングリストなどでの議論を経て、「いわゆるHTML 1.0」とされるものが1993年にドラフト文書として記録されています。このときには、SGMLの規則に則り、DTDが整備されたHTMLのひな形で出来上がっていました。

1995年にようやく最初のHTMLの仕様が、IETFの発行するRFC 1886として制定されました。これがHTML 2.0です。HTML 2.0では、文字集合としてアルファベットと基本的な記号を扱うことができるISO-8859-1が指定されており、仕様の上では厳密には日本語が使えないものでした。仕様の上で日本語が使えるHTMLは、国際化が検討された1997年のRFC 2070（通称 HTML i18n[^1]）を待たなければなりませんでした。

### IETFとRFC
IETF (Internet Engineering Task Force)は、インターネット技術の標準化を行うための組織です。IETFは、RFCシリーズという数字で管理された文書群を発行しています。例えば、前述のRFC 1886のように、基本的には「RFC+数字」の形式で参照されるものです。この数字は一度RFCとして発行されるとその番号は変わることのない、永続的なものです。

RFCは、IETFで定められた必要な議論や手続きを経たインターネットの技術的な約束事ばかりでなく、インターネットを利用する上で参考となるような情報、はたまたエイプリルフールにジョークとして公開されるもの[^2]まで、さまざまな文書が存在します。RFCは通常、Internet-Draftと呼ばれるドラフト文書を経てRFCとなります。RFCはいくつかの種類に分類されます。

表 1.4-1 RFC文書の分類の一部

| 略称 | 分類名                | 分類の説明                                                                                                                                          |
|------|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| I-D  | Internet-Draft        | RFCの草案文書。RFCの番号は付与されない。RFCになることを意図しないものもある。                                                                       |
| PS   | Proposed Standard     | 標準化過程（Standards Track）で、標準になる前の段階。コミュニティーによる議論とレビューを経た、インターネットで使用するのに安定した問題のないもの。 |
| STD  | Internet Standard     | インターネット標準。PSが成熟したものであり、相互運用可能な実装が複数存在することで有益だと認められた、標準化過程の最終段階。                        |
| Info | Informational         | インターネット全体に広く知らせるためのもの。エイプリルフールのジョークもここに含まれる。                                                            |
| Hist | Historical            | 標準であったが別の仕様によって使われなくなったなどのため、標準としての役割を終えた、歴史的な資料。使用は推奨されない。                              |
| BCP  | Best Current Practice | インターネット技術に関する規則や推奨事項などに用いられる分類。    

このうち、STDとBCPは、STDシリーズ、BCPシリーズとして、「RFC+番号」とは別に、中身に対して永続的な番号が与えられます。例えば、HTML仕様から参照されるBCP 47は、現在はRFC 5646とRFC 4647を指しますが、はじめはRFC 1766に与えられていたものでした。

なお、前述のRFC 1886やRFC 2070を含む、IETFでHTMLに関してRFCとなった文書は現在すべて、Histと分類されています。

## W3Cの誕生とHTML4
ウェブに関する標準を推進する団体として、ティム卿がディレクターを務めるW3Cが発足したのが1994年のことでした。はじめはHTML 3.0として標準化作業が行われたものの作業を中断し、後続となるHTML 3.2が1997年にW3C勧告として発行されました。

HTML 3.2はRFC 2070とほぼ同時期に完成したため、その成果はHTML 3.2には取り込まれませんでしたが、1998年のHTML 4勧告で取り込まれることになります。HTML 4の改訂版である1999年のHTML 4.01勧告をもって、HTMLは成熟した、SGMLアプリケーションとして最後の仕様となりました。

### W3Cと勧告
W3C (World Wide Web Consortium)は、ウェブ技術に関する仕様を策定する標準化団体です。ワーキンググループ（Working Group、作業部会とも）で仕様は議論され作成されます。2019年現在でW3CのHTMLを策定しているのはHTMLワーキンググループです。

HTMLではありませんが、ウェブページには欠くことができないスタイルシートを策定する、CSSワーキンググループもまたW3Cに存在します。他の組織でいう標準に相当する、安定した仕様が勧告と呼ばれます。この勧告になるためには、W3Cプロセス文書と呼ばれる文書に則って、仕様を安定させていく必要があります。これを勧告トラックとも呼びますが、仕様の安定度合いに応じて、大きく3つの段階に分類できます。

表 1.4-2 勧告トラックにあるW3C技術文書の主要なステータス

| 略称 | ステータス               | ステータスの説明                                                                                                                                                      |
|------|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| WD   | Working Draft            | 作業草案と訳されるもの。W3C仕様の設計段階。ワーキンググループでの議論の結果によっては、大きく内容が変更されることがある。                                             |
| CR   | Candidate Recommendation | 勧告候補。数回のWDの改訂を経た、WDと比較して安定した段階。古いW3Cプロセス文書にあったLC（Last Call Working Draft; 最終作業草案）は現在、このCRに吸収されている。この段階になると、実装の呼びかけと仕様のテストが行われる。CRを終了するには、2つの独立した実装が必要となる。 |
| REC  | Recommendation           | 勧告。W3C仕様の最終段階でディレクターに承認された、完成した仕様。RECになる前にはPR（Proposed Recommendation; 勧告案）という段階がある。                               |

ほかに、よく目にする2つのステータスがあります。

表 1.4-3 W3C技術文書のその他のステータス

| 略称 | ステータス         | ステータスの説明                                                                                                                                                                      |
|------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NOTE | Working Group Note | W3Cノートとも呼ばれる。勧告化を断念したものや、有益な参考情報、勧告を説明する付属文書など。                                                                                           |
| ED   | Editor's Draft     | 編集者草案とも訳される。W3Cの公開プロセスを経ていない、仕様の編集者によって適宜更新される文書。最新の作業中の草案であるが、ワーキンググループの合意を得た文書でないことに注意が必要。 |

Editor's Draftは後述のWHATWG Living Standardの影響を受け、今日では多くのW3Cワーキンググループで公開されています。

## XMLのブームと反発
XMLは、SGMLから不要な機能を取り去り、改良を施した汎用マークアップ言語です。1998年にXML 1.0がW3Cから勧告され、XMLがブームとも言える状況が沸き起こりました。そんな中、HTMLもXMLで再構築しよう流れとなり、XHTML 1.0が2000年に、XHTML 1.1が2001年に相次いで勧告となりました。

ところが、この当時に次世代の仕様と位置づけられ、策定作業が進んでいたXHTML 2.0は、現実のウェブとかけ離れた互換性を無視した仕様であったため、特にウェブブラウザーの開発者からは大きな反発を生むことになりました。また、HTMLをW3Cで再び開発すべきという提案がブラウザーベンダーからなされるも、W3Cでの投票により却下されました。

このような経緯から、2004年にMozilla、Apple、Operaという3つのブラウザーベンダーが中心となって、WHATWGと呼ばれるコミュニティが同年に発足しました。新たなHTMLはこのコミュニティを中心に策定されていくことになります。

## HTML5勧告までの紆余曲折
はじめW3CはHTML5に興味を示しませんでしたが、2006年にティム卿が自身のブログで、HTMLの策定作業をW3Cで行う意志があることを発表し、翌年にWHATWGと共同でW3CでのHTML5の策定作業が始まりました。

しかし2012年に、仕様の内容を堅牢なものにして勧告を発行したいW3Cと、期限を区切らず仕様の更新をし続けたいWHATWGという両者の仕様の策定方針の違いにより決別し、別々の道を歩むことになります。

W3Cは2014年にHTML 5仕様の勧告を発行し、WHATWGはHTML5をHTML Living Standardと名前を改め、今日も更新が行われています。

### WHATWGとLiving Standardモデル
WHATWG (Web Hypertext Application Technology Working Group)は、最初はHTMLの仕様を策定することを目的に発足した、ブラウザーベンダー主導の標準策定コミュニティです。後にDOMやFetch、URLといったHTMLの周辺仕様の策定も手がけるようになりました。

IETFやW3Cと異なり、WHATWGの発行する標準は、複数のステータスを持たず、常にLiving Standardと呼ばれるステータスを持ちます。これは、期限を決めて標準を完成させることなく、標準を継続的に更新し続けるものです。常に変化し続ける標準であるため、参照部分に変更がないかを注意する必要があります。

[^1]: internationalization（国際化）を省略した表記。先頭と末尾のアルファベットを残して、間の字数を数字で表記するヌメロニムと呼ばれるものです。
[^2]: ジョークRFCで検索してみてください。